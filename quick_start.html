

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quick Start &mdash; PyMzn 0.10.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyMzn 0.10.1 documentation" href="index.html"/>
        <link rel="next" title="Configuration" href="config.html"/>
        <link rel="prev" title="Install" href="install.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PyMzn
          

          
          </a>

          
            
            
              <div class="version">
                0.10.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data">Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solver-s-arguments">Solver&#8217;s arguments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal.html">Internal behavior</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">PyMzn</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Quick Start</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/quick_start.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-start">
<h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<p>First, you need a MiniZinc model encoding the problem you want to solve.
Here is a simple 0-1 knapsack problem encoded with MiniZinc:</p>
<div class="highlight-python"><div class="highlight"><pre>%% test.mzn %%
int: n;  % number of objects
set of int: OBJ = 1..n;
int: capacity;  % the capacity of the knapsack
array[OBJ] of int: profit;  % the profit of each object
array[OBJ] of int: size;  % the size of each object

var set of OBJ: x;
constraint sum(i in x)(size[i]) &lt;= capacity;
var int: obj = sum(i in x)(profit[i])
solve maximize obj;


%% test.dzn %%
n = 5;
profit = [10, 3, 9, 4, 8];
size = [14, 4, 10, 6, 9];
</pre></div>
</div>
<p>You can solve the above problem using the <code class="docutils literal"><span class="pre">pymzn.minizinc</span></code> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pymzn</span>
<span class="n">pymzn</span><span class="o">.</span><span class="n">minizinc</span><span class="p">(</span><span class="s1">&#39;test.mzn&#39;</span><span class="p">,</span> <span class="s1">&#39;test.dzn&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;capacity&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
</pre></div>
</div>
<p>The result will be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">}}]</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">minizinc</span></code> function returns a list of solutions. The default
behavior is to evaluate the solutions into python objects. Solutions are
dictionaries containing variable assignments. The returned variables
are, by default, the &#8216;free&#8217; variables, i.e. those that do not depend on
other variables. If you are interested in the value of other variables
for each solution you can specify the <code class="docutils literal"><span class="pre">output_vars</span></code> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pymzn</span><span class="o">.</span><span class="n">minizinc</span><span class="p">(</span><span class="s1">&#39;test.mzn&#39;</span><span class="p">,</span> <span class="n">output_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;obj&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>This will override the default behavior so, if you are still interested
in the default set of variables, you need to specify them as well.</p>
<p>The evaluation of the solutions by PyMzn uses an internal output
representation (actually dzn format) specified as an output statement
that overrides the one specified in the model if any (though the
original output statement in your model is left untouched, more details
on how PyMzn works internally are available in the documentation).</p>
<p>If you wish to override the default behavior and get as output strings
formatted with your original output statement you can use the
<code class="docutils literal"><span class="pre">raw_output</span></code> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pymzn</span><span class="o">.</span><span class="n">minizinc</span><span class="p">(</span><span class="s1">&#39;test.mzn&#39;</span><span class="p">,</span> <span class="n">raw_output</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>This will disable the automatic parsing, so the <code class="docutils literal"><span class="pre">output_vars</span></code> will be
ignored if specified.</p>
<div class="section" id="data">
<h2>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h2>
<p>It is possible to specify data (.dzn) files to the <code class="docutils literal"><span class="pre">minizinc</span></code> function
as additional positional arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pymzn</span><span class="o">.</span><span class="n">minizinc</span><span class="p">(</span><span class="s1">&#39;test.mzn&#39;</span><span class="p">,</span> <span class="s1">&#39;data1.dzn&#39;</span><span class="p">,</span> <span class="s1">&#39;data2.dzn&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>It is also possible to specify additional data inline with the
<code class="docutils literal"><span class="pre">minizinc</span></code> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pymzn</span><span class="o">.</span><span class="n">minizinc</span><span class="p">(</span><span class="s1">&#39;test.mzn&#39;</span><span class="p">,</span> <span class="s1">&#39;data1.dzn&#39;</span><span class="p">,</span> <span class="s1">&#39;data2.dzn&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;n&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]})</span>
</pre></div>
</div>
<p>With the <code class="docutils literal"><span class="pre">data</span></code> argument you can specify an assignment of variables
that will be automatically converted to dzn format with the
<code class="docutils literal"><span class="pre">pymzn.dzn</span></code> function (more details in the <a class="reference external" href="reference/dzn/">Dzn files</a>
section).</p>
</div>
<div class="section" id="solver-s-arguments">
<h2>Solver&#8217;s arguments<a class="headerlink" href="#solver-s-arguments" title="Permalink to this headline">¶</a></h2>
<p>Usually, solvers provide arguments that can be used to modify their
behavior. You can specify arguments to pass to the solver as additional
keyword arguments in the <code class="docutils literal"><span class="pre">minizinc</span></code> function. For instance, using the
argument <code class="docutils literal"><span class="pre">time</span></code> for Gecode, it will set a time cut-off (in
milliseconds) for the problem solving.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pymzn</span><span class="o">.</span><span class="n">minizinc</span><span class="p">(</span><span class="s1">&#39;test.mzn&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">30000</span><span class="p">)</span>  <span class="c1"># 30 seconds cut-off</span>
</pre></div>
</div>
<p>Adding the <code class="docutils literal"><span class="pre">parallel</span></code> argument, you can specify how many threads
should Gecode use for the problem solving:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pymzn</span><span class="o">.</span><span class="n">minizinc</span><span class="p">(</span><span class="s1">&#39;test.mzn&#39;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">30000</span><span class="p">,</span> <span class="n">parallel</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># 0 = number of available CPU cores</span>
</pre></div>
</div>
<p>More details on available options are in the <a class="reference external" href="reference/solvers/">Solvers</a>
section.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="config.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install.html" class="btn btn-neutral" title="Install" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Paolo Dragone.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.10.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>